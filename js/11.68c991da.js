(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{4204:function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var o=e("4dec"),r=e("c056"),s=e("dc98"),n=e("abab");const i=new o["a"]("BODEGUITA");i.version(1).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at",ventas:"++id, total, *productos, create_at, update_at"}),i.version(2).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad"}),i.version(3).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia"}),i.version(4).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo"}),i.version(5).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva"}),i.version(6).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]"}),i.version(7).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]"}),i.version(8).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",ventas:"++id, total, *productos, create_at, update_at, metodo_pago, numero_factura",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]",configuracion:"&key, value"}),i.version(9).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",ventas:"++id, total, *productos, create_at, update_at, metodo_pago, numero_factura, cliente_id, estado",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]",configuracion:"&key, value",clientes:"++id, &cedula, nombre, telefono, create_at, update_at"}),i.version(10).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",ventas:"++id, total, *productos, create_at, update_at, metodo_pago, numero_factura, cliente_id, estado, monto_pagado",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]",configuracion:"&key, value",clientes:"++id, &cedula, nombre, telefono, create_at, update_at"}),i.version(11).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad, porcentaje_ganancia, costo, porcentaje_iva",ventas:"++id, total, *productos, create_at, update_at, metodo_pago, numero_factura, cliente_id, estado, monto_pagado, monto_exento, monto_base, monto_iva, tasa_iva, monto_igtf, tasa_dolar, monto_dolar",movimientos:"++id, producto_id, tipo, cantidad, fecha, referencia, [producto_id+fecha]",configuracion:"&key, value",clientes:"++id, &cedula, nombre, telefono, create_at, update_at"}),i.open().catch((function(t){console.error("Fallo al abrir la base de datos: "+(t.stack||t))})),i.valores_dolar.mapToClass(r["a"]),i.movimientos.mapToClass(s["a"]),i.clientes.mapToClass(n["a"])},"5e70":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"bg-grey-3 q-pa-md",attrs:{padding:""}},[a("div",{staticClass:"row q-mb-md"},[a("q-btn",{staticClass:"col",attrs:{color:"primary",icon:"create",label:"Nuevo valor dolar"},on:{click:t.dialogoNuevoValor}})],1),a("q-table",{attrs:{title:"Valores Dolar",data:t.data,columns:t.columns,filter:t.filter,"no-data-label":"No encontré nada para ti","no-results-label":"El filtro no reveló ningún resultado.","row-key":"valor_dolar",selection:"single",selected:t.selected,grid:t.$q.screen.lt.md,"card-class":"bg-white rounded-card shadow-1"},on:{"update:selected":function(a){t.selected=a}},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"row full-width items-center"},[a("div",{staticClass:"col-6"},[t.selected.length>0?a("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",color:"negative",icon:"delete"},on:{click:t.deleteR}},[a("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[t._v("\n              Eliminar registro seleccionado\n            ")])],1):t._e()],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"full-width",attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)],1)])]},proxy:!0},{key:"item",fn:function(e){return[a("div",{staticClass:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},[a("q-card",{staticClass:"rounded-card shadow-1",class:e.selected?"bg-indigo-1":""},[a("q-card-section",{staticClass:"row items-center justify-between"},[a("div",{staticClass:"text-h6 text-primary text-weight-bold"},[t._v("Bs "+t._s(new Intl.NumberFormat("es-VE").format(e.row.valor_dolar)))]),a("q-checkbox",{attrs:{dense:""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("q-separator"),a("q-card-section",[a("div",{staticClass:"text-caption text-grey"},[t._v("Fecha de registro")]),a("div",[t._v(t._s(t.hoyFecha(e.row.create_at)))])])],1)],1)]}},{key:"no-data",fn:function({icon:e,message:o,filter:r}){return[a("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[a("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),a("span",[t._v("\n          Bueno, esto es triste... "+t._s(o)+"\n        ")]),a("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":e}})],1)]}}])}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.m_nuevo_valor,callback:function(a){t.m_nuevo_valor=a},expression:"m_nuevo_valor"}},[a("q-card",[a("q-toolbar",[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:`${t.$router.options.base||""}icons/favicon-128x128.png`}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[t._v("Nuevo Valor Dolar")])]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.cerrar}})],1),a("q-card-section",[a("div",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{type:"number",mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right",label:"Nuevo Valor Dolar"},model:{value:t.form.valor_dolar,callback:function(a){t.$set(t.form,"valor_dolar",t._n(a))},expression:"form.valor_dolar"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.create_at,expression:"form.create_at"}],attrs:{type:"hidden"},domProps:{value:t.form.create_at},on:{input:function(a){a.target.composing||t.$set(t.form,"create_at",a.target.value)}}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Guardar"},on:{click:t.save}})],1)],1)],1)],1)},r=[],s=(e("5319"),e("bd4c")),n=e("e633"),i=e("c056"),c={name:"ValorDolar",data(){return{form:new i["a"],m_nuevo_valor:!1,selected:[],data:[],filter:"",columns:[{name:"valor_dolar",required:!0,label:"Valor Dolar",align:"center",field:t=>t.valor_dolar,format:t=>`${new Intl.NumberFormat("es-VE").format(t)}`,sortable:!0},{name:"create_at",align:"center",label:"Fecha",field:"create_at",sortable:!0,format:t=>`${this.hoyFecha(t)}`}]}},mounted(){this.get()},computed:{hoyDate(){let t=Date.now();return s["b"].formatDate(t,"dddd D MMMM hh:mm A")},fechaCreacion(){let t=Date.now();return s["b"].formatDate(t,"YYYY/MM/DD HH:mm:ss")}},methods:{hoyFecha(t){return s["b"].formatDate(t,"DD-MM-YYYY HH:mm:ss")},dialogoNuevoValor(){this.m_nuevo_valor=!0},cerrar(){this.form=new i["a"],this.m_nuevo_valor=!1},get(){n["a"].getInstance().get().then((t=>{this.data=t}))},save(){this.$q.loading.show(),this.form.create_at=this.fechaCreacion,this.form.valor_dolar=parseFloat(this.form.valor_dolar),n["a"].getInstance().save(this.form).then((()=>{this.m_nuevo_valor=!1,this.form=new i["a"],this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"Datos guardados."})})).catch((function(t){console.error(`Error: ${t.stack}`),this.$q.notify({position:"top",type:"negative",message:`Error: ${t.stack}`})}))},deleteR(){console.log(this.selected),1===this.selected.length?this.$q.dialog({title:"¿Desea borrar este registro?",message:'<strong class="text-red">¡Los cambios no podrán deshacerse!</strong>',html:!0,cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),n["a"].getInstance().delete(this.selected[0].id).then((()=>{this.selected=[],this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"¡Datos eliminados!"})}))})).onCancel((()=>{this.selected=[]})):(console.log(this.selected),this.$q.notify({position:"top",type:"warning",message:"¡Selecione un registro!"}))},async raspadorMonitorDolar(){const t=await scrapeIt("https://monitordolarvzla.com/category/promedio-del-dolar/",{articles:{listItem:"article.post.type-post",data:{title:"h2.entry-title",content:"div.entry-content p"}}});let a=t.data.articles[0].content.search("Bs")+3,e=t.data.articles[0].content.search("por 1 dólar")-45,o=t.data.articles[0].content.substr(a,e),r=o.replace(/./g,"");console.log(r)}}},l=c,d=e("2877"),u=e("9989"),_=e("9c40"),p=e("eaac"),v=e("05c0"),m=e("27f9"),f=e("0016"),h=e("f09f"),g=e("a370"),b=e("8f8e"),q=e("eb85"),w=e("24e8"),y=e("65c6"),k=e("cb32"),C=e("6ac5"),x=e("4b7e"),D=e("eebe"),$=e.n(D),j=Object(d["a"])(l,o,r,!1,null,null,null);a["default"]=j.exports;$()(j,"components",{QPage:u["a"],QBtn:_["a"],QTable:p["a"],QTooltip:v["a"],QInput:m["a"],QIcon:f["a"],QCard:h["a"],QCardSection:g["a"],QCheckbox:b["a"],QSeparator:q["a"],QDialog:w["a"],QToolbar:y["a"],QAvatar:k["a"],QToolbarTitle:C["a"],QCardActions:x["a"]})},abab:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));class o{constructor(){this.cedula="",this.nombre="",this.telefono="",this.create_at=null,this.update_at=null}}},c056:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));class o{constructor(){this.valor_dolar=null,this.create_at=null}}},dc98:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));class o{constructor(){this.producto_id=null,this.tipo="",this.cantidad=0,this.fecha=null,this.referencia="",this.create_at=null}}},e633:function(t,a,e){"use strict";e.d(a,"a",(function(){return r}));var o=e("4204");e("bd4c");class r{static getInstance(){return new r}get(){return o["a"].valores_dolar.toArray()}save(t){return o["a"].valores_dolar.add(t)}getOne(t){return o["a"].valores_dolar.get({id:t})}delete(t){return o["a"].valores_dolar.delete(t)}getUltimo(){return o["a"].valores_dolar.orderBy("create_at").reverse().limit(1).first()}}}}]);