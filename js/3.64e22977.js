(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"404a":function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));var s=e("4204");e("bd4c");class o{static getInstance(){return new o}get(t,a){return s["a"].ventas.where("create_at").between(t,a).toArray()}save(t){return s["a"].ventas.add(t)}getOne(t){return s["a"].ventas.get({id:t})}delete(t){return s["a"].ventas.delete(t)}getNombre(t){return s["a"].ventas.get({nombre:t})}}},4204:function(t,a,e){"use strict";e.d(a,"a",(function(){return i}));var s=e("4dec"),o=e("c056");const i=new s["a"]("BODEGUITA");i.version(1).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at",ventas:"++id, total, *productos, create_at, update_at"}),i.version(2).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad"}),i.open().catch((function(t){console.error("Fallo al abrir la base de datos: "+(t.stack||t))})),i.valores_dolar.mapToClass(o["a"])},"47b6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"bg-grey-3 q-pa-md",attrs:{padding:""}},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"col q-mr-sm",attrs:{filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:t.inicio,callback:function(a){t.inicio=a},expression:"inicio"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.inicio,callback:function(a){t.inicio=a},expression:"inicio"}}),a("q-input",{staticClass:"col",attrs:{filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:t.getVentas},model:{value:t.fin,callback:function(a){t.fin=a},expression:"fin"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.fin,callback:function(a){t.fin=a},expression:"fin"}})],1),a("div",{staticClass:"row"},[a("q-banner",{staticClass:"col text-white bg-red",attrs:{"inline-actions":""},scopedSlots:t._u([{key:"action",fn:function(){return[t.total>0?a("q-btn",{attrs:{round:"",color:"green",icon:"whatsapp",type:"a",href:t.url_whatsapp,target:"__blank"}}):t._e()]},proxy:!0}])},[t._v("\n      Bs\n      "+t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t.total))+"\n      ")])],1),a("q-list",{attrs:{bordered:""}},t._l(t.ventas,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"q-my-sm",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[t._v("\n          "+t._s(e.id)+"\n        ")])],1),a("q-item-section",[a("q-item-label",[t._v(t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.total)))]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(e.create_at))])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-grey-8 q-gutter-xs"},[a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",color:"primary",icon:"more_vert"},on:{click:function(a){return t.modalProductos(e.productos)}}}),a("q-btn",{attrs:{flat:"",round:"",color:"negative",icon:"delete"},on:{click:function(a){return t.eliminarProductoLista(e.id)}}},[a("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[t._v("\n              Eliminar registro selecionado\n            ")])],1)],1)])],1)})),1),a("q-dialog",{model:{value:t.m_produtos,callback:function(a){t.m_produtos=a},expression:"m_produtos"}},[a("q-card",[a("q-toolbar",[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:"icons/favicon-128x128.png"}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[t._v("Productos")])]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Producto")]),a("th",{staticClass:"text-right"},[t._v("Valor Bs")]),a("th",{staticClass:"text-right"},[t._v("Cantidad")])])]),a("tbody",t._l(t.productos,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left"},[t._v(t._s(e.producto))]),a("td",{staticClass:"text-right"},[t._v("\n                "+t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor_bs))+"\n              ")]),a("td",{staticClass:"text-right"},[t._v(t._s(e.cantidad))])])})),0)])],1)],1)],1)],1)},o=[],i=e("404a"),n=e("ed9b1"),r={name:"PageIndex",data(){return{inicio:null,fin:null,ventas:[],form:new n["a"],total:0,cantidad:null,producto:null,options:[],stringOptions:[],m_produtos:!1,productos:null,url_whatsapp:""}},mounted(){},methods:{async getVentas(){await i["a"].getInstance().get(this.inicio,this.fin).then((t=>this.ventas=t));let t=0;for(let o=0;o<this.ventas.length;o++)t+=this.ventas[o].total;this.total=t;const a=new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(this.total),e=`El total del sus ventas es de *Bs ${a}*`,s=`https://api.whatsapp.com/send?text=${encodeURIComponent(e)}`;this.url_whatsapp=s},eliminarProductoLista(t){this.$q.dialog({title:"¿Desea borrar este registro?",message:'<strong class="text-red">¡Los cambios no podrán deshacerse!</strong>',html:!0,cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),i["a"].getInstance().delete(t).then((async()=>{await i["a"].getInstance().get(this.inicio,this.fin).then((t=>this.ventas=t));let t=0;for(let a=0;a<this.ventas.length;a++)t+=this.ventas[a].total;this.total=t,this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"¡Datos eliminados!"})}))})).onCancel((()=>{}))},modalProductos(t){this.m_produtos=!0,this.productos=t},filterFn(t,a,e){t.length<2?e():a((()=>{const a=t.toLowerCase();this.options=this.stringOptions.filter((t=>t.toLowerCase().indexOf(a)>-1))}))},enviarPorWhatsApp(t){}}},c=r,l=e("2877"),d=e("9989"),u=e("27f9"),p=e("0016"),m=e("7cbe"),v=e("52ee"),f=e("9c40"),h=e("54e1"),b=e("1c1c"),g=e("66e5"),_=e("4074"),q=e("cb32"),w=e("0170"),x=e("05c0"),C=e("24e8"),y=e("f09f"),k=e("65c6"),Q=e("6ac5"),I=e("a370"),D=e("2bb1"),F=e("7f67"),P=e("714f"),N=e("eebe"),E=e.n(N),L=Object(l["a"])(c,s,o,!1,null,null,null);a["default"]=L.exports;E()(L,"components",{QPage:d["a"],QInput:u["a"],QIcon:p["a"],QPopupProxy:m["a"],QDate:v["a"],QBtn:f["a"],QBanner:h["a"],QList:b["a"],QItem:g["a"],QItemSection:_["a"],QAvatar:q["a"],QItemLabel:w["a"],QTooltip:x["a"],QDialog:C["a"],QCard:y["a"],QToolbar:k["a"],QToolbarTitle:Q["a"],QCardSection:I["a"],QMarkupTable:D["a"]}),E()(L,"directives",{ClosePopup:F["a"],Ripple:P["a"]})},c056:function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));class s{}},ed9b1:function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));class s{}}}]);