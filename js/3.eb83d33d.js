(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"404a":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("4204");a("bd4c");class n{static getInstance(){return new n}get(t,e){return s["a"].ventas.where("create_at").between(t,e).toArray()}save(t){return s["a"].ventas.add(t)}getOne(t){return s["a"].ventas.get({id:t})}delete(t){return s["a"].ventas.delete(t)}getNombre(t){return s["a"].ventas.get({nombre:t})}}},4204:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a("4dec"),n=a("c056");const o=new s["a"]("BODEGUITA");o.version(1).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at",ventas:"++id, total, *productos, create_at, update_at"}),o.open().catch((function(t){console.error("Failed to open db: "+(t.stack||t))})),o.valores_dolar.mapToClass(n["a"])},"47b6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-grey-3 q-pa-md",attrs:{padding:""}},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"col q-mr-sm",attrs:{filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:t.inicio,callback:function(e){t.inicio=e},expression:"inicio"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.inicio,callback:function(e){t.inicio=e},expression:"inicio"}}),a("q-input",{staticClass:"col",attrs:{filled:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:t.getVentas},model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.fin,callback:function(e){t.fin=e},expression:"fin"}})],1),a("div",{staticClass:"row"},[a("q-banner",{staticClass:"col text-white bg-red",attrs:{"inline-actions":""},scopedSlots:t._u([{key:"action",fn:function(){return[t.total>0?a("q-btn",{attrs:{round:"",color:"green",icon:"whatsapp"},on:{click:function(e){return t.enviarPorWhatsApp(t.total)}}}):t._e()]},proxy:!0}])},[t._v("\n      Bs\n      "+t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t.total))+"\n      ")])],1),a("q-list",{attrs:{bordered:""}},t._l(t.ventas,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"q-my-sm",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[t._v("\n          "+t._s(e.id)+"\n        ")])],1),a("q-item-section",[a("q-item-label",[t._v(t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.total)))]),a("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v(t._s(e.create_at))])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-grey-8 q-gutter-xs"},[a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",color:"primary",icon:"more_vert"},on:{click:function(a){return t.modalProductos(e.productos)}}}),a("q-btn",{attrs:{flat:"",round:"",color:"negative",icon:"delete"},on:{click:function(a){return t.eliminarProductoLista(e.id)}}},[a("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[t._v("\n              Eliminar registro selecionado\n            ")])],1)],1)])],1)})),1),a("q-dialog",{model:{value:t.m_produtos,callback:function(e){t.m_produtos=e},expression:"m_produtos"}},[a("q-card",[a("q-toolbar",[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:"icons/favicon-128x128.png"}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[t._v("Productos")])]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Producto")]),a("th",{staticClass:"text-right"},[t._v("Valor Bs")]),a("th",{staticClass:"text-right"},[t._v("Cantidad")])])]),a("tbody",t._l(t.productos,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left"},[t._v(t._s(e.producto))]),a("td",{staticClass:"text-right"},[t._v("\n                "+t._s(new Intl.NumberFormat("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor_bs))+"\n              ")]),a("td",{staticClass:"text-right"},[t._v(t._s(e.cantidad))])])})),0)])],1)],1)],1)],1)},n=[],o=a("404a"),i=a("ed9b1"),r={name:"PageIndex",data(){return{inicio:null,fin:null,ventas:[],form:new i["a"],total:0,cantidad:null,producto:null,options:[],stringOptions:[],m_produtos:!1,productos:null}},mounted(){},methods:{async getVentas(){await o["a"].getInstance().get(this.inicio,this.fin).then((t=>this.ventas=t));let t=0;for(let e=0;e<this.ventas.length;e++)t+=this.ventas[e].total;this.total=t},eliminarProductoLista(t){this.$q.dialog({title:"¿Desea borrar este registro?",message:'<strong class="text-red">¡Los cambios no podrán deshacerse!</strong>',html:!0,cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),o["a"].getInstance().delete(t).then((async()=>{await o["a"].getInstance().get(this.inicio,this.fin).then((t=>this.ventas=t));let t=0;for(let e=0;e<this.ventas.length;e++)t+=this.ventas[e].total;this.total=t,this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"¡Datos eliminados!"})}))})).onCancel((()=>{}))},modalProductos(t){this.m_produtos=!0,this.productos=t},filterFn(t,e,a){t.length<2?a():e((()=>{const e=t.toLowerCase();this.options=this.stringOptions.filter((t=>t.toLowerCase().indexOf(e)>-1))}))},enviarPorWhatsApp(t){const e=`El total del sus ventas es de *Bs ${t}*`,a=`https://api.whatsapp.com/send?text=${encodeURIComponent(e)}`;return a}}},c=r,l=a("2877"),d=a("9989"),u=a("27f9"),p=a("0016"),m=a("7cbe"),v=a("52ee"),f=a("9c40"),h=a("54e1"),g=a("1c1c"),b=a("66e5"),_=a("4074"),q=a("cb32"),w=a("0170"),x=a("05c0"),C=a("24e8"),y=a("f09f"),k=a("65c6"),Q=a("6ac5"),I=a("a370"),P=a("2bb1"),D=a("7f67"),F=a("714f"),N=a("eebe"),E=a.n(N),L=Object(l["a"])(c,s,n,!1,null,null,null);e["default"]=L.exports;E()(L,"components",{QPage:d["a"],QInput:u["a"],QIcon:p["a"],QPopupProxy:m["a"],QDate:v["a"],QBtn:f["a"],QBanner:h["a"],QList:g["a"],QItem:b["a"],QItemSection:_["a"],QAvatar:q["a"],QItemLabel:w["a"],QTooltip:x["a"],QDialog:C["a"],QCard:y["a"],QToolbar:k["a"],QToolbarTitle:Q["a"],QCardSection:I["a"],QMarkupTable:P["a"]}),E()(L,"directives",{ClosePopup:D["a"],Ripple:F["a"]})},c056:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));class s{}},ed9b1:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));class s{}}}]);