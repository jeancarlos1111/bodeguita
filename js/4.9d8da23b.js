(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{4204:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("4dec"),r=a("c056");const s=new o["a"]("BODEGUITA");s.version(1).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at",ventas:"++id, total, *productos, create_at, update_at"}),s.open().catch((function(e){console.error("Failed to open db: "+(e.stack||e))})),s.valores_dolar.mapToClass(r["a"])},"45e8":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a("4204");a("bd4c");class r{static getInstance(){return new r}get(){return o["a"].productos.toArray()}save(e){return o["a"].productos.add(e)}getOne(e){return o["a"].productos.get({id:e})}delete(e){return o["a"].productos.delete(e)}getNombre(e){return o["a"].productos.get({nombre:e})}}},"4ddb":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"bg-grey-3 q-pa-md",attrs:{padding:""}},[a("div",{staticClass:"row q-mb-md"},[a("q-btn",{staticClass:"col",attrs:{color:"primary",icon:"create",label:"nuevo producto"},on:{click:e.dialogoNuevoValor}})],1),a("q-table",{attrs:{title:"Productos",data:e.data,columns:e.columns,filter:e.filter,"no-data-label":"No encontré nada para ti","no-results-label":"El filtro no reveló ningún resultado.","row-key":"nombre",selection:"single",selected:e.selected},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)]},proxy:!0},{key:"bottom-row",fn:function(){return[a("q-tr",[a("q-td",{attrs:{colspan:"100%"}},[a("q-btn",{attrs:{flat:"",round:"",color:"negative",icon:"delete"},on:{click:e.deleteR}},[a("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[e._v("\n              Eliminar registro selecionado\n            ")])],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function(t){var o=t.icon,r=t.message,s=t.filter;return[a("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[a("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),a("span",[e._v("\n          Bueno, esto es triste... "+e._s(r)+"\n        ")]),a("q-icon",{attrs:{size:"2em",name:s?"filter_b_and_w":o}})],1)]}}])}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.m_nuevo_producto,callback:function(t){e.m_nuevo_producto=t},expression:"m_nuevo_producto"}},[a("q-card",[a("q-toolbar",[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:"icons/favicon-128x128.png"}})]),a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[e._v("Nuevo Producto")])]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:e.cerrar}})],1),a("q-card-section",[a("div",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{label:"Nombre"},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}}),a("q-input",{attrs:{type:"number",mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right",label:"Valor"},model:{value:e.form.valor,callback:function(t){e.$set(e.form,"valor",e._n(t))},expression:"form.valor"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.create_at,expression:"form.create_at"}],attrs:{type:"hidden"},domProps:{value:e.form.create_at},on:{input:function(t){t.target.composing||e.$set(e.form,"create_at",t.target.value)}}})],1)]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",color:"primary",label:"Guardar"},on:{click:e.save}})],1)],1)],1)],1)},r=[],s=a("bd4c"),n=a("45e8");class i{}var l={name:"Productos",data(){return{form:new i,m_nuevo_producto:!1,selected:[],data:[],filter:"",columns:[{name:"nombre",required:!0,label:"Nombre",align:"center",field:e=>e.nombre,sortable:!0},{name:"valor",required:!0,label:"Valor",align:"center",field:e=>e.valor,format:e=>`${new Intl.NumberFormat("es-VE").format(e)}`,sortable:!0},{name:"create_at",align:"center",label:"Fecha",field:"create_at",sortable:!0,format:e=>`${this.hoyFecha(e)}`}]}},mounted(){this.get()},computed:{hoyDate(){let e=Date.now();return s["b"].formatDate(e,"dddd D MMMM hh:mm A")},fechaCreacion(){let e=Date.now();return s["b"].formatDate(e,"YYYY/MM/DD HH:mm:ss")}},methods:{hoyFecha(e){return s["b"].formatDate(e,"DD-MM-YYYY HH:mm:ss")},dialogoNuevoValor(){this.m_nuevo_producto=!0},cerrar(){this.form=new i,this.m_nuevo_producto=!1},async get(){this.$q.loading.show(),await n["a"].getInstance().get().then((e=>{this.data=e})),this.$q.loading.hide()},save(){this.$q.loading.show(),this.form.create_at=this.fechaCreacion,this.form.valor=parseFloat(this.form.valor),this.form.nombre=this.form.nombre.toUpperCase(),n["a"].getInstance().save(this.form).then((()=>{this.m_nuevo_producto=!1,this.form=new i,this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"Datos guardados."})})).catch((function(e){console.error(`Error: ${e.stack}`),this.$q.notify({position:"top",type:"negative",message:`Error: ${e.stack}`})}))},deleteR(){console.log(this.selected),1===this.selected.length?this.$q.dialog({title:"¿Desea borrar este registro?",message:'<strong class="text-red">¡Los cambios no podrán deshacerse!</strong>',html:!0,cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),n["a"].getInstance().delete(this.selected[0].id).then((()=>{this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"¡Datos eliminados!"})}))})).onCancel((()=>{this.selected=[]})):(console.log(this.selected),this.$q.notify({position:"top",type:"warning",message:"¡Selecione un registro!"}))}}},c=l,d=a("2877"),u=a("9989"),m=a("9c40"),p=a("eaac"),f=a("27f9"),h=a("0016"),b=a("bd08"),g=a("db86"),v=a("05c0"),q=a("24e8"),_=a("f09f"),w=a("65c6"),y=a("cb32"),k=a("6ac5"),$=a("a370"),D=a("eb85"),Q=a("4b7e"),x=a("eebe"),C=a.n(x),N=Object(d["a"])(c,o,r,!1,null,null,null);t["default"]=N.exports;C()(N,"components",{QPage:u["a"],QBtn:m["a"],QTable:p["a"],QInput:f["a"],QIcon:h["a"],QTr:b["a"],QTd:g["a"],QTooltip:v["a"],QDialog:q["a"],QCard:_["a"],QToolbar:w["a"],QAvatar:y["a"],QToolbarTitle:k["a"],QCardSection:$["a"],QSeparator:D["a"],QCardActions:Q["a"]})},c056:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));class o{}}}]);