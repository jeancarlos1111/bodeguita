(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{4204:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var o=a("4dec"),r=a("c056");const s=new o["a"]("BODEGUITA");s.version(1).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at",ventas:"++id, total, *productos, create_at, update_at"}),s.version(2).stores({valores_dolar:"++id, valor, create_at, update_at",productos:"++id, &nombre, valor, create_at, update_at, cantidad"}),s.open().catch((function(t){console.error("Fallo al abrir la base de datos: "+(t.stack||t))})),s.valores_dolar.mapToClass(r["a"])},"5e70":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"bg-grey-3 q-pa-md",attrs:{padding:""}},[e("div",{staticClass:"row q-mb-md"},[e("q-btn",{staticClass:"col",attrs:{color:"primary",icon:"create",label:"nuevo valor dolar"},on:{click:t.dialogoNuevoValor}})],1),e("q-table",{attrs:{title:"Valores Dolar",data:t.data,columns:t.columns,filter:t.filter,"no-data-label":"No encontré nada para ti","no-results-label":"El filtro no reveló ningún resultado.","row-key":"valor_dolar",selection:"single",selected:t.selected},on:{"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[e("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)]},proxy:!0},{key:"bottom-row",fn:function(){return[e("q-tr",[e("q-td",{attrs:{colspan:"100%"}},[e("q-btn",{attrs:{flat:"",round:"",color:"negative",icon:"delete"},on:{click:t.deleteR}},[e("q-tooltip",{attrs:{"transition-show":"rotate","transition-hide":"rotate"}},[t._v("\n              Eliminar registro selecionado\n            ")])],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function({icon:a,message:o,filter:r}){return[e("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[e("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),e("span",[t._v("\n          Bueno, esto es triste... "+t._s(o)+"\n        ")]),e("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}}])}),e("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.m_nuevo_valor,callback:function(e){t.m_nuevo_valor=e},expression:"m_nuevo_valor"}},[e("q-card",[e("q-toolbar",[e("q-avatar",{attrs:{square:""}},[e("img",{attrs:{src:"icons/favicon-128x128.png"}})]),e("q-toolbar-title",[e("span",{staticClass:"text-weight-bold"},[t._v("Nuevo Valor Dolar")])]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.cerrar}})],1),e("q-card-section",[e("div",{staticClass:"q-gutter-md"},[e("q-input",{attrs:{type:"number",mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right",label:"Nuevo Valor Dolar"},model:{value:t.form.valor_dolar,callback:function(e){t.$set(t.form,"valor_dolar",t._n(e))},expression:"form.valor_dolar"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.create_at,expression:"form.create_at"}],attrs:{type:"hidden"},domProps:{value:t.form.create_at},on:{input:function(e){e.target.composing||t.$set(t.form,"create_at",e.target.value)}}})],1)]),e("q-separator"),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{flat:"",color:"primary",label:"Guardar"},on:{click:t.save}})],1)],1)],1)],1)},r=[],s=(a("5319"),a("bd4c")),n=a("e633"),l=a("c056"),i={name:"ValorDolar",data(){return{form:new l["a"],m_nuevo_valor:!1,selected:[],data:[],filter:"",columns:[{name:"valor_dolar",required:!0,label:"Valor Dolar",align:"center",field:t=>t.valor_dolar,format:t=>`${new Intl.NumberFormat("es-VE").format(t)}`,sortable:!0},{name:"create_at",align:"center",label:"Fecha",field:"create_at",sortable:!0,format:t=>`${this.hoyFecha(t)}`}]}},mounted(){this.get()},computed:{hoyDate(){let t=Date.now();return s["b"].formatDate(t,"dddd D MMMM hh:mm A")},fechaCreacion(){let t=Date.now();return s["b"].formatDate(t,"YYYY/MM/DD HH:mm:ss")}},methods:{hoyFecha(t){return s["b"].formatDate(t,"DD-MM-YYYY HH:mm:ss")},dialogoNuevoValor(){this.m_nuevo_valor=!0},cerrar(){this.form=new l["a"],this.m_nuevo_valor=!1},get(){n["a"].getInstance().get().then((t=>{this.data=t}))},save(){this.$q.loading.show(),this.form.create_at=this.fechaCreacion,this.form.valor_dolar=parseFloat(this.form.valor_dolar),n["a"].getInstance().save(this.form).then((()=>{this.m_nuevo_valor=!1,this.form=new l["a"],this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"Datos guardados."})})).catch((function(t){console.error(`Error: ${t.stack}`),this.$q.notify({position:"top",type:"negative",message:`Error: ${t.stack}`})}))},deleteR(){console.log(this.selected),1===this.selected.length?this.$q.dialog({title:"¿Desea borrar este registro?",message:'<strong class="text-red">¡Los cambios no podrán deshacerse!</strong>',html:!0,cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),n["a"].getInstance().delete(this.selected[0].id).then((()=>{this.selected=[],this.get(),this.$q.loading.hide(),this.$q.notify({position:"top",type:"positive",message:"¡Datos eliminados!"})}))})).onCancel((()=>{this.selected=[]})):(console.log(this.selected),this.$q.notify({position:"top",type:"warning",message:"¡Selecione un registro!"}))},async raspadorMonitorDolar(){const t=await scrapeIt("https://monitordolarvzla.com/category/promedio-del-dolar/",{articles:{listItem:"article.post.type-post",data:{title:"h2.entry-title",content:"div.entry-content p"}}});let e=t.data.articles[0].content.search("Bs")+3,a=t.data.articles[0].content.search("por 1 dólar")-45,o=t.data.articles[0].content.substr(e,a),r=o.replace(/./g,"");console.log(r)}}},c=i,d=a("2877"),u=a("9989"),m=a("9c40"),p=a("eaac"),v=a("27f9"),f=a("0016"),h=a("bd08"),g=a("db86"),_=a("05c0"),b=a("24e8"),q=a("f09f"),y=a("65c6"),w=a("cb32"),D=a("6ac5"),k=a("a370"),Q=a("eb85"),$=a("4b7e"),x=a("eebe"),C=a.n(x),I=Object(d["a"])(c,o,r,!1,null,null,null);e["default"]=I.exports;C()(I,"components",{QPage:u["a"],QBtn:m["a"],QTable:p["a"],QInput:v["a"],QIcon:f["a"],QTr:h["a"],QTd:g["a"],QTooltip:_["a"],QDialog:b["a"],QCard:q["a"],QToolbar:y["a"],QAvatar:w["a"],QToolbarTitle:D["a"],QCardSection:k["a"],QSeparator:Q["a"],QCardActions:$["a"]})},c056:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));class o{}},e633:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("4204");a("bd4c");class r{static getInstance(){return new r}get(){return o["a"].valores_dolar.toArray()}save(t){return o["a"].valores_dolar.add(t)}getOne(t){return o["a"].valores_dolar.get({id:t})}delete(t){return o["a"].valores_dolar.delete(t)}getUltimo(){return o["a"].valores_dolar.orderBy("create_at").reverse().limit(1).first()}}}}]);